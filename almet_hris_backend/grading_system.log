INFO 2025-07-14 14:12:30,357 views 17044 3512 User info request for user: n.orujova
INFO 2025-07-14 14:12:30,381 views 17044 3512 [n.orujova] No employee profile found
INFO 2025-07-14 14:12:30,384 views 17044 3512 [n.orujova] User info response prepared successfully
INFO 2025-07-14 14:12:43,538 views 17044 3512 User info request for user: n.orujova
INFO 2025-07-14 14:12:43,547 views 17044 3512 [n.orujova] No employee profile found
INFO 2025-07-14 14:12:43,548 views 17044 3512 [n.orujova] User info response prepared successfully
INFO 2025-07-14 14:20:44,114 views 30348 13288 === Microsoft authentication request received ===
INFO 2025-07-14 14:20:44,116 views 30348 13288 Request method: POST
INFO 2025-07-14 14:20:44,118 views 30348 13288 Request headers: {'Content-Length': '1289', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-CA,en;q=0.9,az-AZ;q=0.8,az;q=0.7,en-GB;q=0.6,en-US;q=0.5'}
INFO 2025-07-14 14:20:44,122 views 30348 13288 Request data keys: ['id_token']
INFO 2025-07-14 14:20:44,124 views 30348 13288 Microsoft authentication attempt - validating token
INFO 2025-07-14 14:20:44,127 views 30348 13288 Token length: 1274
INFO 2025-07-14 14:20:44,128 auth 30348 13288 === Starting Microsoft token validation ===
INFO 2025-07-14 14:20:44,129 auth 30348 13288 Received token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Il9qTn...
INFO 2025-07-14 14:20:44,130 auth 30348 13288 === Token payload ===
INFO 2025-07-14 14:20:44,131 auth 30348 13288 {
  "aud": "230458ff-ed69-4abb-8496-3888067116f6",
  "iss": "https://login.microsoftonline.com/b3222ef7-242d-4724-a665-97b0a764f2d0/v2.0",
  "iat": 1752488144,
  "nbf": 1752488144,
  "exp": 1752492044,
  "email": "n.orujova@almettrading.com",
  "name": "Narmin Orujova",
  "nonce": "01980873-74c9-741c-bff4-1599a299f57d",
  "oid": "2c74167f-d69a-43a5-a1e6-910fd8560625",
  "preferred_username": "n.orujova@almettrading.com",
  "rh": "1.ATkA9y4isy0kJEemZZewp2Ty0P9YBCNp7btKhJY4iAZxFvaqARM5AA.",
  "sid": "006c5e49-ee67-0c63-f9d4-23d4f5ffda2a",
  "sub": "i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4",
  "tid": "b3222ef7-242d-4724-a665-97b0a764f2d0",
  "uti": "Z_cpuTUqZEWQ7mfAPhxGAA",
  "ver": "2.0"
}
INFO 2025-07-14 14:20:44,133 auth 30348 13288 Audience from token: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-14 14:20:44,134 auth 30348 13288 Expected audience: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-14 14:20:44,135 auth 30348 13288 Microsoft ID (sub): i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4
INFO 2025-07-14 14:20:44,136 auth 30348 13288 Full name from token: Narmin Orujova
INFO 2025-07-14 14:20:44,137 auth 30348 13288 Extracted user info: email=n.orujova@almettrading.com, first_name=Narmin, last_name=Orujova
INFO 2025-07-14 14:20:44,254 auth 30348 13288 Found existing Microsoft user: n.orujova
INFO 2025-07-14 14:20:44,256 auth 30348 13288 === Token validation successful for user: n.orujova ===
INFO 2025-07-14 14:20:44,257 views 30348 13288 Token validated successfully for user: n.orujova
INFO 2025-07-14 14:20:44,267 views 30348 13288 JWT tokens generated for user: n.orujova
INFO 2025-07-14 14:20:44,269 views 30348 13288 Returning successful response for user: n.orujova
INFO 2025-07-14 14:28:56,703 views 30348 12860 User info request for user: n.orujova
INFO 2025-07-14 14:28:56,770 views 30348 12860 [n.orujova] No employee profile found
INFO 2025-07-14 14:28:56,775 views 30348 12860 [n.orujova] User info response prepared successfully
INFO 2025-07-14 14:37:43,658 managers 30348 8612 Creating current structure from DB...
INFO 2025-07-14 14:37:43,661 managers 30348 30132 Position groups order (ASC): [('VC', 1), ('Director', 2), ('HOD', 3), ('Manager', 4), ('Senior Specialist', 5), ('Specialist', 6), ('Junior Specialist', 7), ('Blue Colar ', 8), ('Blue Colar (GEO)', 9)]
INFO 2025-07-14 14:37:43,663 managers 30348 30132 Total position groups found: 9
INFO 2025-07-14 14:37:43,664 managers 30348 8612 Position groups order (ASC): [('VC', 1), ('Director', 2), ('HOD', 3), ('Manager', 4), ('Senior Specialist', 5), ('Specialist', 6), ('Junior Specialist', 7), ('Blue Colar ', 8), ('Blue Colar (GEO)', 9)]
INFO 2025-07-14 14:37:43,673 managers 30348 8612 Total position groups found: 9
INFO 2025-07-14 14:37:43,680 serializers 30348 27544 === DETAIL SERIALIZER for Scenario 7/2/2025 10:47:09 AM ===
INFO 2025-07-14 14:37:43,681 managers 30348 30132 Position groups order (ASC): [('VC', 1), ('Director', 2), ('HOD', 3), ('Manager', 4), ('Senior Specialist', 5), ('Specialist', 6), ('Junior Specialist', 7), ('Blue Colar ', 8), ('Blue Colar (GEO)', 9)]
INFO 2025-07-14 14:37:43,682 serializers 30348 27544 DETAIL: Extracted vertical inputs: {'Vice Chairman': 19.0, 'Director': 91.0, 'HOD': 62.0, 'Manager': 54.0, 'Senior Specialist': 58.0, 'Specialist': 42.0, 'Junior Specialist': 48.0, 'Blue Colar ': 52.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,684 managers 30348 30132 Total position groups found: 9
INFO 2025-07-14 14:37:43,684 serializers 30348 27544 DETAIL: Global horizontal intervals: {'LD_to_LQ': 99.0, 'LQ_to_M': 41.0, 'M_to_UQ': 25.0, 'UQ_to_UD': 88.0}
INFO 2025-07-14 14:37:43,688 managers 30348 8612 Found current scenario: Scenario 7/2/2025 10:47:09 AM
INFO 2025-07-14 14:37:43,689 serializers 30348 27544 DETAIL: Final result input data:
INFO 2025-07-14 14:37:43,693 serializers 30348 27544   positionVerticalInputs: {'Vice Chairman': 19.0, 'Director': 91.0, 'HOD': 62.0, 'Manager': 54.0, 'Senior Specialist': 58.0, 'Specialist': 42.0, 'Junior Specialist': 48.0, 'Blue Colar ': 52.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,694 managers 30348 8612 Current structure grade order: ['Vice Chairman', 'Director', 'HOD', 'Manager', 'Senior Specialist', 'Specialist', 'Junior Specialist', 'Blue Colar ', 'Blue Colar (GEO)']
INFO 2025-07-14 14:37:43,694 serializers 30348 27544   inputRates preserved: True
INFO 2025-07-14 14:37:43,696 managers 30348 8612 Base value position: Blue Colar (GEO) (last = lowest hierarchy)
INFO 2025-07-14 14:37:43,696 serializers 30348 27544 === DETAIL SERIALIZER END ===
INFO 2025-07-14 14:37:43,708 managers 30348 8612 Creating current structure from DB...
INFO 2025-07-14 14:37:43,715 managers 30348 8612 Position groups order (ASC): [('VC', 1), ('Director', 2), ('HOD', 3), ('Manager', 4), ('Senior Specialist', 5), ('Specialist', 6), ('Junior Specialist', 7), ('Blue Colar ', 8), ('Blue Colar (GEO)', 9)]
INFO 2025-07-14 14:37:43,718 managers 30348 8612 Total position groups found: 9
INFO 2025-07-14 14:37:43,722 managers 30348 8612 Found current scenario: Scenario 7/2/2025 10:47:09 AM
INFO 2025-07-14 14:37:43,725 managers 30348 8612 Current structure grade order: ['Vice Chairman', 'Director', 'HOD', 'Manager', 'Senior Specialist', 'Specialist', 'Junior Specialist', 'Blue Colar ', 'Blue Colar (GEO)']
INFO 2025-07-14 14:37:43,726 managers 30348 8612 Base value position: Blue Colar (GEO) (last = lowest hierarchy)
INFO 2025-07-14 14:37:43,740 serializers 30348 30132 === DETAIL SERIALIZER for Scenario 7/2/2025 10:47:09 AM ===
INFO 2025-07-14 14:37:43,741 serializers 30348 30132 DETAIL: Extracted vertical inputs: {'Vice Chairman': 19.0, 'Director': 91.0, 'HOD': 62.0, 'Manager': 54.0, 'Senior Specialist': 58.0, 'Specialist': 42.0, 'Junior Specialist': 48.0, 'Blue Colar ': 52.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,742 serializers 30348 30132 DETAIL: Global horizontal intervals: {'LD_to_LQ': 99.0, 'LQ_to_M': 41.0, 'M_to_UQ': 25.0, 'UQ_to_UD': 88.0}
INFO 2025-07-14 14:37:43,742 serializers 30348 30132 DETAIL: Final result input data:
INFO 2025-07-14 14:37:43,743 serializers 30348 30132   positionVerticalInputs: {'Vice Chairman': 19.0, 'Director': 91.0, 'HOD': 62.0, 'Manager': 54.0, 'Senior Specialist': 58.0, 'Specialist': 42.0, 'Junior Specialist': 48.0, 'Blue Colar ': 52.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,744 serializers 30348 30132   inputRates preserved: True
INFO 2025-07-14 14:37:43,745 serializers 30348 30132 === DETAIL SERIALIZER END ===
INFO 2025-07-14 14:37:43,799 serializers 30348 30132 === LIST SERIALIZER for Scenario 6/19/2025 2:50:21 PM ===
INFO 2025-07-14 14:37:43,821 serializers 30348 8612 === LIST SERIALIZER for Scenario 7/3/2025 3:10:24 PM ===
INFO 2025-07-14 14:37:43,822 serializers 30348 30132 LIST: Extracted vertical inputs: {'Vice Chairman': 54.0, 'Director': 34.0, 'HOD': 34.0, 'Manager': 34.0, 'Senior Specialist': 34.0, 'Specialist': 34.0, 'Junior Specialist': 34.0, 'Blue Colar ': 34.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,823 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 28.0, 'Director': 51.0, 'HOD': 51.0, 'Manager': 33.0, 'Senior Specialist': 46.0, 'Specialist': 94.0, 'Junior Specialist': 49.0, 'Blue Colar ': 47.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,823 serializers 30348 30132 LIST: Global horizontal intervals: {'LD_to_LQ': 10.0, 'LQ_to_M': 9.0, 'M_to_UQ': 8.0, 'UQ_to_UD': 10.0}
INFO 2025-07-14 14:37:43,824 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 35.0, 'LQ_to_M': 59.0, 'M_to_UQ': 80.0, 'UQ_to_UD': 20.0}
INFO 2025-07-14 14:37:43,825 serializers 30348 30132 === LIST SERIALIZER for Scenario 6/18/2025 11:29:40 AM ===
INFO 2025-07-14 14:37:43,827 serializers 30348 8612 === LIST SERIALIZER for Scenario 7/2/2025 10:47:01 AM ===
INFO 2025-07-14 14:37:43,827 serializers 30348 30132 LIST: Extracted vertical inputs: {'Vice Chairman': 67.0, 'Director': 90.0, 'HOD': 49.0, 'Manager': 28.0, 'Senior Specialist': 95.0, 'Specialist': 27.0, 'Junior Specialist': 24.0, 'Blue Colar ': 39.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,828 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 76.0, 'Director': 76.0, 'HOD': 3.0, 'Manager': 62.0, 'Senior Specialist': 17.0, 'Specialist': 88.0, 'Junior Specialist': 50.0, 'Blue Colar ': 12.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,828 serializers 30348 30132 LIST: Global horizontal intervals: {'LD_to_LQ': 33.0, 'LQ_to_M': 5.0, 'M_to_UQ': 33.0, 'UQ_to_UD': 86.0}
INFO 2025-07-14 14:37:43,829 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 35.0, 'LQ_to_M': 49.0, 'M_to_UQ': 47.0, 'UQ_to_UD': 56.0}
INFO 2025-07-14 14:37:43,830 serializers 30348 30132 === LIST SERIALIZER for Scenario 6/13/2025 4:08:02 PM ===
INFO 2025-07-14 14:37:43,832 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/30/2025 12:48:13 AM ===
INFO 2025-07-14 14:37:43,832 serializers 30348 30132 LIST: Extracted vertical inputs: {'Vice Chairman': 67.0, 'Director': 38.0, 'HOD': 56.0, 'Manager': 77.0, 'Senior Specialist': 97.0, 'Specialist': 87.0, 'Junior Specialist': 97.0, 'Blue Colar ': 15.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,833 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 32.0, 'Director': 54.0, 'HOD': 54.0, 'Manager': 54.0, 'Senior Specialist': 54.0, 'Specialist': 54.0, 'Junior Specialist': 54.0, 'Blue Colar ': 54.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,833 serializers 30348 30132 LIST: Global horizontal intervals: {'LD_to_LQ': 98.0, 'LQ_to_M': 72.0, 'M_to_UQ': 60.0, 'UQ_to_UD': 43.0}
INFO 2025-07-14 14:37:43,834 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 10.0, 'LQ_to_M': 9.0, 'M_to_UQ': 8.0, 'UQ_to_UD': 9.0}
INFO 2025-07-14 14:37:43,835 serializers 30348 30132 === LIST SERIALIZER for Scenario 6/13/2025 3:59:44 PM ===
INFO 2025-07-14 14:37:43,837 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/24/2025 11:32:33 AM ===
INFO 2025-07-14 14:37:43,837 serializers 30348 30132 LIST: Extracted vertical inputs: {'Vice Chairman': 98.0, 'Director': 27.0, 'HOD': 18.0, 'Manager': 68.0, 'Senior Specialist': 11.0, 'Specialist': 54.0, 'Junior Specialist': 42.0, 'Blue Colar ': 43.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,838 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 20.0, 'Director': 20.0, 'HOD': 10.0, 'Manager': 18.0, 'Senior Specialist': 90.0, 'Specialist': 100.0, 'Junior Specialist': 17.0, 'Blue Colar ': 54.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,839 serializers 30348 30132 LIST: Global horizontal intervals: {'LD_to_LQ': 5.0, 'LQ_to_M': 18.0, 'M_to_UQ': 76.0, 'UQ_to_UD': 74.0}
INFO 2025-07-14 14:37:43,840 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 10.0, 'LQ_to_M': 9.0, 'M_to_UQ': 8.0, 'UQ_to_UD': 7.0}
INFO 2025-07-14 14:37:43,843 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/24/2025 11:31:29 AM ===
INFO 2025-07-14 14:37:43,844 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 35.0, 'Director': 12.0, 'HOD': 99.0, 'Manager': 6.0, 'Senior Specialist': 74.0, 'Specialist': 96.0, 'Junior Specialist': 7.0, 'Blue Colar ': 50.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,847 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 83.0, 'LQ_to_M': 91.0, 'M_to_UQ': 97.0, 'UQ_to_UD': 77.0}
INFO 2025-07-14 14:37:43,851 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/18/2025 3:07:51 PM ===
INFO 2025-07-14 14:37:43,854 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 13.0, 'Director': 64.0, 'HOD': 88.0, 'Manager': 36.0, 'Senior Specialist': 46.0, 'Specialist': 54.0, 'Junior Specialist': 29.0, 'Blue Colar ': 90.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,856 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 63.0, 'LQ_to_M': 48.0, 'M_to_UQ': 20.0, 'UQ_to_UD': 76.0}
INFO 2025-07-14 14:37:43,857 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/18/2025 3:07:33 PM ===
INFO 2025-07-14 14:37:43,858 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 13.0, 'Director': 78.0, 'HOD': 57.0, 'Manager': 36.0, 'Senior Specialist': 62.0, 'Specialist': 92.0, 'Junior Specialist': 19.0, 'Blue Colar ': 50.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,861 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/19/2025 2:50:21 PM ===
INFO 2025-07-14 14:37:43,864 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 98.0, 'LQ_to_M': 30.0, 'M_to_UQ': 12.0, 'UQ_to_UD': 56.0}
INFO 2025-07-14 14:37:43,865 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 54.0, 'Director': 34.0, 'HOD': 34.0, 'Manager': 34.0, 'Senior Specialist': 34.0, 'Specialist': 34.0, 'Junior Specialist': 34.0, 'Blue Colar ': 34.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,866 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/18/2025 2:37:02 PM ===
INFO 2025-07-14 14:37:43,867 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 10.0, 'LQ_to_M': 9.0, 'M_to_UQ': 8.0, 'UQ_to_UD': 10.0}
INFO 2025-07-14 14:37:43,868 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 24.0, 'Director': 78.0, 'HOD': 79.0, 'Manager': 46.0, 'Senior Specialist': 21.0, 'Specialist': 63.0, 'Junior Specialist': 66.0, 'Blue Colar ': 7.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,869 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/18/2025 11:29:40 AM ===
INFO 2025-07-14 14:37:43,870 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 68.0, 'LQ_to_M': 50.0, 'M_to_UQ': 7.0, 'UQ_to_UD': 24.0}
INFO 2025-07-14 14:37:43,870 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 67.0, 'Director': 90.0, 'HOD': 49.0, 'Manager': 28.0, 'Senior Specialist': 95.0, 'Specialist': 27.0, 'Junior Specialist': 24.0, 'Blue Colar ': 39.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,872 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/18/2025 11:27:54 AM ===
INFO 2025-07-14 14:37:43,872 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 33.0, 'LQ_to_M': 5.0, 'M_to_UQ': 33.0, 'UQ_to_UD': 86.0}
INFO 2025-07-14 14:37:43,873 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 79.0, 'Director': 26.0, 'HOD': 6.0, 'Manager': 20.0, 'Senior Specialist': 1.0, 'Specialist': 36.0, 'Junior Specialist': 35.0, 'Blue Colar ': 58.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,875 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/13/2025 4:08:02 PM ===
INFO 2025-07-14 14:37:43,875 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 76.0, 'LQ_to_M': 49.0, 'M_to_UQ': 20.0, 'UQ_to_UD': 6.0}
INFO 2025-07-14 14:37:43,876 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 67.0, 'Director': 38.0, 'HOD': 56.0, 'Manager': 77.0, 'Senior Specialist': 97.0, 'Specialist': 87.0, 'Junior Specialist': 97.0, 'Blue Colar ': 15.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,877 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/17/2025 4:18:52 PM ===
INFO 2025-07-14 14:37:43,878 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 98.0, 'LQ_to_M': 72.0, 'M_to_UQ': 60.0, 'UQ_to_UD': 43.0}
INFO 2025-07-14 14:37:43,879 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 85.0, 'Director': 54.0, 'HOD': 47.0, 'Manager': 72.0, 'Senior Specialist': 100.0, 'Specialist': 2.0, 'Junior Specialist': 61.0, 'Blue Colar ': 57.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,879 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/13/2025 3:59:44 PM ===
INFO 2025-07-14 14:37:43,880 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 23.0, 'LQ_to_M': 41.0, 'M_to_UQ': 84.0, 'UQ_to_UD': 25.0}
INFO 2025-07-14 14:37:43,881 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 98.0, 'Director': 27.0, 'HOD': 18.0, 'Manager': 68.0, 'Senior Specialist': 11.0, 'Specialist': 54.0, 'Junior Specialist': 42.0, 'Blue Colar ': 43.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,882 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/17/2025 2:40:50 PM ===
INFO 2025-07-14 14:37:43,883 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 5.0, 'LQ_to_M': 18.0, 'M_to_UQ': 76.0, 'UQ_to_UD': 74.0}
INFO 2025-07-14 14:37:43,883 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 95.0, 'Director': 71.0, 'HOD': 1.0, 'Manager': 82.0, 'Senior Specialist': 53.0, 'Specialist': 53.0, 'Junior Specialist': 22.0, 'Blue Colar ': 40.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,887 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 3.0, 'LQ_to_M': 90.0, 'M_to_UQ': 8.0, 'UQ_to_UD': 75.0}
INFO 2025-07-14 14:37:43,890 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/17/2025 2:23:29 PM ===
INFO 2025-07-14 14:37:43,892 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 2.0, 'Director': None, 'HOD': None, 'Manager': None, 'Senior Specialist': None, 'Specialist': None, 'Junior Specialist': None, 'Blue Colar ': None, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,893 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 20.0, 'LQ_to_M': 7.0, 'M_to_UQ': 6.0, 'UQ_to_UD': 6.0}
INFO 2025-07-14 14:37:43,894 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/17/2025 12:26:06 PM ===
INFO 2025-07-14 14:37:43,895 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 91.0, 'Director': 15.0, 'HOD': 4.0, 'Manager': 40.0, 'Senior Specialist': 26.0, 'Specialist': 9.0, 'Junior Specialist': 23.0, 'Blue Colar ': 11.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,895 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 50.0, 'LQ_to_M': 14.0, 'M_to_UQ': 79.0, 'UQ_to_UD': 52.0}
INFO 2025-07-14 14:37:43,897 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/17/2025 12:14:48 PM ===
INFO 2025-07-14 14:37:43,897 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 16.0, 'Director': 18.0, 'HOD': 4.0, 'Manager': 22.0, 'Senior Specialist': 8.0, 'Specialist': 83.0, 'Junior Specialist': 16.0, 'Blue Colar ': 13.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,898 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 46.0, 'LQ_to_M': 20.0, 'M_to_UQ': 37.0, 'UQ_to_UD': 70.0}
INFO 2025-07-14 14:37:43,899 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/17/2025 12:13:24 PM ===
INFO 2025-07-14 14:37:43,900 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 2.0, 'Director': 49.0, 'HOD': 50.0, 'Manager': 25.0, 'Senior Specialist': 41.0, 'Specialist': 14.0, 'Junior Specialist': 33.0, 'Blue Colar ': 30.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,901 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 89.0, 'LQ_to_M': 16.0, 'M_to_UQ': 44.0, 'UQ_to_UD': 70.0}
INFO 2025-07-14 14:37:43,902 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/13/2025 4:04:49 PM ===
INFO 2025-07-14 14:37:43,903 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 50.0, 'Director': 68.0, 'HOD': 49.0, 'Manager': 55.0, 'Senior Specialist': 97.0, 'Specialist': 32.0, 'Junior Specialist': 68.0, 'Blue Colar ': 42.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,904 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 75.0, 'LQ_to_M': 79.0, 'M_to_UQ': 20.0, 'UQ_to_UD': 39.0}
INFO 2025-07-14 14:37:43,905 serializers 30348 8612 === LIST SERIALIZER for Scenario 6/13/2025 4:04:39 PM ===
INFO 2025-07-14 14:37:43,907 serializers 30348 8612 LIST: Extracted vertical inputs: {'Vice Chairman': 37.0, 'Director': 36.0, 'HOD': 58.0, 'Manager': 93.0, 'Senior Specialist': 37.0, 'Specialist': 21.0, 'Junior Specialist': 96.0, 'Blue Colar ': 74.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,908 serializers 30348 8612 LIST: Global horizontal intervals: {'LD_to_LQ': 97.0, 'LQ_to_M': 96.0, 'M_to_UQ': 0.0, 'UQ_to_UD': 44.0}
INFO 2025-07-14 14:37:43,935 serializers 30348 27544 === LIST SERIALIZER for Scenario 7/3/2025 3:10:24 PM ===
INFO 2025-07-14 14:37:43,936 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 28.0, 'Director': 51.0, 'HOD': 51.0, 'Manager': 33.0, 'Senior Specialist': 46.0, 'Specialist': 94.0, 'Junior Specialist': 49.0, 'Blue Colar ': 47.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,936 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 35.0, 'LQ_to_M': 59.0, 'M_to_UQ': 80.0, 'UQ_to_UD': 20.0}
INFO 2025-07-14 14:37:43,939 serializers 30348 27544 === LIST SERIALIZER for Scenario 7/2/2025 10:47:01 AM ===
INFO 2025-07-14 14:37:43,939 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 76.0, 'Director': 76.0, 'HOD': 3.0, 'Manager': 62.0, 'Senior Specialist': 17.0, 'Specialist': 88.0, 'Junior Specialist': 50.0, 'Blue Colar ': 12.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,940 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 35.0, 'LQ_to_M': 49.0, 'M_to_UQ': 47.0, 'UQ_to_UD': 56.0}
INFO 2025-07-14 14:37:43,941 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/30/2025 12:48:13 AM ===
INFO 2025-07-14 14:37:43,942 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 32.0, 'Director': 54.0, 'HOD': 54.0, 'Manager': 54.0, 'Senior Specialist': 54.0, 'Specialist': 54.0, 'Junior Specialist': 54.0, 'Blue Colar ': 54.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,943 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 10.0, 'LQ_to_M': 9.0, 'M_to_UQ': 8.0, 'UQ_to_UD': 9.0}
INFO 2025-07-14 14:37:43,944 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/24/2025 11:32:33 AM ===
INFO 2025-07-14 14:37:43,944 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 20.0, 'Director': 20.0, 'HOD': 10.0, 'Manager': 18.0, 'Senior Specialist': 90.0, 'Specialist': 100.0, 'Junior Specialist': 17.0, 'Blue Colar ': 54.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,945 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 10.0, 'LQ_to_M': 9.0, 'M_to_UQ': 8.0, 'UQ_to_UD': 7.0}
INFO 2025-07-14 14:37:43,946 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/24/2025 11:31:29 AM ===
INFO 2025-07-14 14:37:43,946 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 35.0, 'Director': 12.0, 'HOD': 99.0, 'Manager': 6.0, 'Senior Specialist': 74.0, 'Specialist': 96.0, 'Junior Specialist': 7.0, 'Blue Colar ': 50.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,947 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 83.0, 'LQ_to_M': 91.0, 'M_to_UQ': 97.0, 'UQ_to_UD': 77.0}
INFO 2025-07-14 14:37:43,948 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/18/2025 3:07:51 PM ===
INFO 2025-07-14 14:37:43,949 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 13.0, 'Director': 64.0, 'HOD': 88.0, 'Manager': 36.0, 'Senior Specialist': 46.0, 'Specialist': 54.0, 'Junior Specialist': 29.0, 'Blue Colar ': 90.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,950 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 63.0, 'LQ_to_M': 48.0, 'M_to_UQ': 20.0, 'UQ_to_UD': 76.0}
INFO 2025-07-14 14:37:43,951 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/18/2025 3:07:33 PM ===
INFO 2025-07-14 14:37:43,951 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 13.0, 'Director': 78.0, 'HOD': 57.0, 'Manager': 36.0, 'Senior Specialist': 62.0, 'Specialist': 92.0, 'Junior Specialist': 19.0, 'Blue Colar ': 50.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,952 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 98.0, 'LQ_to_M': 30.0, 'M_to_UQ': 12.0, 'UQ_to_UD': 56.0}
INFO 2025-07-14 14:37:43,953 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/18/2025 2:37:02 PM ===
INFO 2025-07-14 14:37:43,954 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 24.0, 'Director': 78.0, 'HOD': 79.0, 'Manager': 46.0, 'Senior Specialist': 21.0, 'Specialist': 63.0, 'Junior Specialist': 66.0, 'Blue Colar ': 7.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,955 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 68.0, 'LQ_to_M': 50.0, 'M_to_UQ': 7.0, 'UQ_to_UD': 24.0}
INFO 2025-07-14 14:37:43,956 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/18/2025 11:27:54 AM ===
INFO 2025-07-14 14:37:43,956 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 79.0, 'Director': 26.0, 'HOD': 6.0, 'Manager': 20.0, 'Senior Specialist': 1.0, 'Specialist': 36.0, 'Junior Specialist': 35.0, 'Blue Colar ': 58.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,957 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 76.0, 'LQ_to_M': 49.0, 'M_to_UQ': 20.0, 'UQ_to_UD': 6.0}
INFO 2025-07-14 14:37:43,958 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/17/2025 4:18:52 PM ===
INFO 2025-07-14 14:37:43,959 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 85.0, 'Director': 54.0, 'HOD': 47.0, 'Manager': 72.0, 'Senior Specialist': 100.0, 'Specialist': 2.0, 'Junior Specialist': 61.0, 'Blue Colar ': 57.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,960 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 23.0, 'LQ_to_M': 41.0, 'M_to_UQ': 84.0, 'UQ_to_UD': 25.0}
INFO 2025-07-14 14:37:43,961 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/17/2025 2:40:50 PM ===
INFO 2025-07-14 14:37:43,961 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 95.0, 'Director': 71.0, 'HOD': 1.0, 'Manager': 82.0, 'Senior Specialist': 53.0, 'Specialist': 53.0, 'Junior Specialist': 22.0, 'Blue Colar ': 40.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,962 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 3.0, 'LQ_to_M': 90.0, 'M_to_UQ': 8.0, 'UQ_to_UD': 75.0}
INFO 2025-07-14 14:37:43,963 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/17/2025 2:23:29 PM ===
INFO 2025-07-14 14:37:43,964 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 2.0, 'Director': None, 'HOD': None, 'Manager': None, 'Senior Specialist': None, 'Specialist': None, 'Junior Specialist': None, 'Blue Colar ': None, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,965 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 20.0, 'LQ_to_M': 7.0, 'M_to_UQ': 6.0, 'UQ_to_UD': 6.0}
INFO 2025-07-14 14:37:43,966 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/17/2025 12:26:06 PM ===
INFO 2025-07-14 14:37:43,966 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 91.0, 'Director': 15.0, 'HOD': 4.0, 'Manager': 40.0, 'Senior Specialist': 26.0, 'Specialist': 9.0, 'Junior Specialist': 23.0, 'Blue Colar ': 11.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,967 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 50.0, 'LQ_to_M': 14.0, 'M_to_UQ': 79.0, 'UQ_to_UD': 52.0}
INFO 2025-07-14 14:37:43,968 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/17/2025 12:14:48 PM ===
INFO 2025-07-14 14:37:43,969 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 16.0, 'Director': 18.0, 'HOD': 4.0, 'Manager': 22.0, 'Senior Specialist': 8.0, 'Specialist': 83.0, 'Junior Specialist': 16.0, 'Blue Colar ': 13.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,970 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 46.0, 'LQ_to_M': 20.0, 'M_to_UQ': 37.0, 'UQ_to_UD': 70.0}
INFO 2025-07-14 14:37:43,971 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/17/2025 12:13:24 PM ===
INFO 2025-07-14 14:37:43,972 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 2.0, 'Director': 49.0, 'HOD': 50.0, 'Manager': 25.0, 'Senior Specialist': 41.0, 'Specialist': 14.0, 'Junior Specialist': 33.0, 'Blue Colar ': 30.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,973 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 89.0, 'LQ_to_M': 16.0, 'M_to_UQ': 44.0, 'UQ_to_UD': 70.0}
INFO 2025-07-14 14:37:43,974 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/13/2025 4:04:49 PM ===
INFO 2025-07-14 14:37:43,975 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 50.0, 'Director': 68.0, 'HOD': 49.0, 'Manager': 55.0, 'Senior Specialist': 97.0, 'Specialist': 32.0, 'Junior Specialist': 68.0, 'Blue Colar ': 42.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,976 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 75.0, 'LQ_to_M': 79.0, 'M_to_UQ': 20.0, 'UQ_to_UD': 39.0}
INFO 2025-07-14 14:37:43,977 serializers 30348 27544 === LIST SERIALIZER for Scenario 6/13/2025 4:04:39 PM ===
INFO 2025-07-14 14:37:43,978 serializers 30348 27544 LIST: Extracted vertical inputs: {'Vice Chairman': 37.0, 'Director': 36.0, 'HOD': 58.0, 'Manager': 93.0, 'Senior Specialist': 37.0, 'Specialist': 21.0, 'Junior Specialist': 96.0, 'Blue Colar ': 74.0, 'Blue Colar (GEO)': None}
INFO 2025-07-14 14:37:43,979 serializers 30348 27544 LIST: Global horizontal intervals: {'LD_to_LQ': 97.0, 'LQ_to_M': 96.0, 'M_to_UQ': 0.0, 'UQ_to_UD': 44.0}
INFO 2025-07-14 14:52:00,964 views 30348 7912 User info request for user: n.orujova
INFO 2025-07-14 14:52:01,043 views 30348 7912 [n.orujova] No employee profile found
INFO 2025-07-14 14:52:01,047 views 30348 7912 [n.orujova] User info response prepared successfully
INFO 2025-07-14 16:44:46,176 views 27540 29588 === Microsoft authentication request received ===
INFO 2025-07-14 16:44:46,178 views 27540 29588 Request method: POST
INFO 2025-07-14 16:44:46,179 views 27540 29588 Request headers: {'Content-Length': '1289', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-CA,en;q=0.9,az-AZ;q=0.8,az;q=0.7,en-GB;q=0.6,en-US;q=0.5'}
INFO 2025-07-14 16:44:46,181 views 27540 29588 Request data keys: ['id_token']
INFO 2025-07-14 16:44:46,182 views 27540 29588 Microsoft authentication attempt - validating token
INFO 2025-07-14 16:44:46,183 views 27540 29588 Token length: 1274
INFO 2025-07-14 16:44:46,184 auth 27540 29588 === Starting Microsoft token validation ===
INFO 2025-07-14 16:44:46,184 auth 27540 29588 Received token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Il9qTn...
INFO 2025-07-14 16:44:46,185 auth 27540 29588 === Token payload ===
INFO 2025-07-14 16:44:46,186 auth 27540 29588 {
  "aud": "230458ff-ed69-4abb-8496-3888067116f6",
  "iss": "https://login.microsoftonline.com/b3222ef7-242d-4724-a665-97b0a764f2d0/v2.0",
  "iat": 1752496786,
  "nbf": 1752496786,
  "exp": 1752500686,
  "email": "n.orujova@almettrading.com",
  "name": "Narmin Orujova",
  "nonce": "019808f7-5083-76f3-86e7-72e2e84e3f2a",
  "oid": "2c74167f-d69a-43a5-a1e6-910fd8560625",
  "preferred_username": "n.orujova@almettrading.com",
  "rh": "1.ATkA9y4isy0kJEemZZewp2Ty0P9YBCNp7btKhJY4iAZxFvaqARM5AA.",
  "sid": "006c5e49-ee67-0c63-f9d4-23d4f5ffda2a",
  "sub": "i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4",
  "tid": "b3222ef7-242d-4724-a665-97b0a764f2d0",
  "uti": "PhFYPMnhzUuwzLHHSAcvAA",
  "ver": "2.0"
}
INFO 2025-07-14 16:44:46,206 auth 27540 29588 Audience from token: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-14 16:44:46,208 auth 27540 29588 Expected audience: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-14 16:44:46,210 auth 27540 29588 Microsoft ID (sub): i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4
INFO 2025-07-14 16:44:46,213 auth 27540 29588 Full name from token: Narmin Orujova
INFO 2025-07-14 16:44:46,216 auth 27540 29588 Extracted user info: email=n.orujova@almettrading.com, first_name=Narmin, last_name=Orujova
INFO 2025-07-14 16:44:46,300 auth 27540 29588 Found existing Microsoft user: n.orujova
INFO 2025-07-14 16:44:46,300 auth 27540 29588 === Token validation successful for user: n.orujova ===
INFO 2025-07-14 16:44:46,301 views 27540 29588 Token validated successfully for user: n.orujova
INFO 2025-07-14 16:44:46,305 views 27540 29588 JWT tokens generated for user: n.orujova
INFO 2025-07-14 16:44:46,305 views 27540 29588 Returning successful response for user: n.orujova
INFO 2025-07-14 16:47:32,028 views 22596 22680 User info request for user: n.orujova
INFO 2025-07-14 16:47:32,066 views 22596 22680 [n.orujova] No employee profile found
INFO 2025-07-14 16:47:32,070 views 22596 22680 [n.orujova] User info response prepared successfully
INFO 2025-07-14 16:47:37,693 views 22596 24812 User info request for user: n.orujova
INFO 2025-07-14 16:47:37,707 views 22596 24812 [n.orujova] No employee profile found
INFO 2025-07-14 16:47:37,709 views 22596 24812 [n.orujova] User info response prepared successfully
INFO 2025-07-15 09:56:53,732 views 33172 17144 === Microsoft authentication request received ===
INFO 2025-07-15 09:56:53,735 views 33172 17144 Request method: POST
INFO 2025-07-15 09:56:53,736 views 33172 17144 Request headers: {'Content-Length': '1289', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-CA,en;q=0.9,az-AZ;q=0.8,az;q=0.7,en-GB;q=0.6,en-US;q=0.5'}
INFO 2025-07-15 09:56:53,739 views 33172 17144 Request data keys: ['id_token']
INFO 2025-07-15 09:56:53,740 views 33172 17144 Microsoft authentication attempt - validating token
INFO 2025-07-15 09:56:53,741 views 33172 17144 Token length: 1274
INFO 2025-07-15 09:56:53,741 auth 33172 17144 === Starting Microsoft token validation ===
INFO 2025-07-15 09:56:53,742 auth 33172 17144 Received token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Il9qTn...
INFO 2025-07-15 09:56:53,742 auth 33172 17144 === Token payload ===
INFO 2025-07-15 09:56:53,745 auth 33172 17144 {
  "aud": "230458ff-ed69-4abb-8496-3888067116f6",
  "iss": "https://login.microsoftonline.com/b3222ef7-242d-4724-a665-97b0a764f2d0/v2.0",
  "iat": 1752558713,
  "nbf": 1752558713,
  "exp": 1752562613,
  "email": "n.orujova@almettrading.com",
  "name": "Narmin Orujova",
  "nonce": "01980ca8-42df-7967-aeb6-6d4eeee37e40",
  "oid": "2c74167f-d69a-43a5-a1e6-910fd8560625",
  "preferred_username": "n.orujova@almettrading.com",
  "rh": "1.ATkA9y4isy0kJEemZZewp2Ty0P9YBCNp7btKhJY4iAZxFvaqARM5AA.",
  "sid": "006c5e49-ee67-0c63-f9d4-23d4f5ffda2a",
  "sub": "i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4",
  "tid": "b3222ef7-242d-4724-a665-97b0a764f2d0",
  "uti": "pgm4pG9CCUOITOKAoex6AA",
  "ver": "2.0"
}
INFO 2025-07-15 09:56:53,746 auth 33172 17144 Audience from token: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 09:56:53,747 auth 33172 17144 Expected audience: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 09:56:53,747 auth 33172 17144 Microsoft ID (sub): i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4
INFO 2025-07-15 09:56:53,748 auth 33172 17144 Full name from token: Narmin Orujova
INFO 2025-07-15 09:56:53,749 auth 33172 17144 Extracted user info: email=n.orujova@almettrading.com, first_name=Narmin, last_name=Orujova
INFO 2025-07-15 09:56:53,837 auth 33172 17144 Found existing Microsoft user: n.orujova
INFO 2025-07-15 09:56:53,837 auth 33172 17144 === Token validation successful for user: n.orujova ===
INFO 2025-07-15 09:56:53,838 views 33172 17144 Token validated successfully for user: n.orujova
INFO 2025-07-15 09:56:53,843 views 33172 17144 JWT tokens generated for user: n.orujova
INFO 2025-07-15 09:56:53,844 views 33172 17144 Returning successful response for user: n.orujova
INFO 2025-07-15 09:58:54,569 views 13280 3300 User info request for user: n.orujova
INFO 2025-07-15 09:58:54,654 views 13280 3300 [n.orujova] No employee profile found
INFO 2025-07-15 09:58:54,657 views 13280 3300 [n.orujova] User info response prepared successfully
INFO 2025-07-15 10:39:27,944 views 31404 5712 === Microsoft authentication request received ===
INFO 2025-07-15 10:39:27,945 views 31404 5712 Request method: POST
INFO 2025-07-15 10:39:27,946 views 31404 5712 Request headers: {'Content-Length': '1289', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-CA,en;q=0.9,az-AZ;q=0.8,az;q=0.7,en-GB;q=0.6,en-US;q=0.5'}
INFO 2025-07-15 10:39:27,947 views 31404 5712 Request data keys: ['id_token']
INFO 2025-07-15 10:39:27,948 views 31404 5712 Microsoft authentication attempt - validating token
INFO 2025-07-15 10:39:27,949 views 31404 5712 Token length: 1274
INFO 2025-07-15 10:39:27,952 auth 31404 5712 === Starting Microsoft token validation ===
INFO 2025-07-15 10:39:27,953 auth 31404 5712 Received token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Il9qTn...
INFO 2025-07-15 10:39:27,957 auth 31404 5712 === Token payload ===
INFO 2025-07-15 10:39:27,961 auth 31404 5712 {
  "aud": "230458ff-ed69-4abb-8496-3888067116f6",
  "iss": "https://login.microsoftonline.com/b3222ef7-242d-4724-a665-97b0a764f2d0/v2.0",
  "iat": 1752561268,
  "nbf": 1752561268,
  "exp": 1752565168,
  "email": "n.orujova@almettrading.com",
  "name": "Narmin Orujova",
  "nonce": "01980ccf-32be-7789-b9d8-042265af206e",
  "oid": "2c74167f-d69a-43a5-a1e6-910fd8560625",
  "preferred_username": "n.orujova@almettrading.com",
  "rh": "1.ATkA9y4isy0kJEemZZewp2Ty0P9YBCNp7btKhJY4iAZxFvaqARM5AA.",
  "sid": "006c5e49-ee67-0c63-f9d4-23d4f5ffda2a",
  "sub": "i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4",
  "tid": "b3222ef7-242d-4724-a665-97b0a764f2d0",
  "uti": "atEyHmal00uwv6bzYewDAA",
  "ver": "2.0"
}
INFO 2025-07-15 10:39:27,964 auth 31404 5712 Audience from token: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 10:39:27,965 auth 31404 5712 Expected audience: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 10:39:27,966 auth 31404 5712 Microsoft ID (sub): i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4
INFO 2025-07-15 10:39:27,966 auth 31404 5712 Full name from token: Narmin Orujova
INFO 2025-07-15 10:39:27,967 auth 31404 5712 Extracted user info: email=n.orujova@almettrading.com, first_name=Narmin, last_name=Orujova
INFO 2025-07-15 10:39:28,049 auth 31404 5712 Found existing Microsoft user: n.orujova
INFO 2025-07-15 10:39:28,049 auth 31404 5712 === Token validation successful for user: n.orujova ===
INFO 2025-07-15 10:39:28,049 views 31404 5712 Token validated successfully for user: n.orujova
INFO 2025-07-15 10:39:28,053 views 31404 5712 JWT tokens generated for user: n.orujova
INFO 2025-07-15 10:39:28,054 views 31404 5712 Returning successful response for user: n.orujova
INFO 2025-07-15 10:47:57,698 views 31404 32636 Profile image upload request from user: n.orujova
INFO 2025-07-15 10:47:57,749 views 31404 32636 Request data: <QueryDict: {'employee_id': ['33'], 'profile_image': [<InMemoryUploadedFile: org-chart-2025-07-14.png (image/png)>]}>
INFO 2025-07-15 10:47:57,755 views 31404 32636 Files: ['profile_image']
ERROR 2025-07-15 10:47:58,725 views 31404 32636 Profile image upload failed: 'InMemoryUploadedFile' object has no attribute 'url'
INFO 2025-07-15 11:06:36,433 views 27048 32048 === Microsoft authentication request received ===
INFO 2025-07-15 11:06:36,436 views 27048 32048 Request method: POST
INFO 2025-07-15 11:06:36,439 views 27048 32048 Request headers: {'Content-Length': '1289', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-CA,en;q=0.9,az-AZ;q=0.8,az;q=0.7,en-GB;q=0.6,en-US;q=0.5'}
INFO 2025-07-15 11:06:36,441 views 27048 32048 Request data keys: ['id_token']
INFO 2025-07-15 11:06:36,444 views 27048 32048 Microsoft authentication attempt - validating token
INFO 2025-07-15 11:06:36,446 views 27048 32048 Token length: 1274
INFO 2025-07-15 11:06:36,448 auth 27048 32048 === Starting Microsoft token validation ===
INFO 2025-07-15 11:06:36,450 auth 27048 32048 Received token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Il9qTn...
INFO 2025-07-15 11:06:36,454 auth 27048 32048 === Token payload ===
INFO 2025-07-15 11:06:36,455 auth 27048 32048 {
  "aud": "230458ff-ed69-4abb-8496-3888067116f6",
  "iss": "https://login.microsoftonline.com/b3222ef7-242d-4724-a665-97b0a764f2d0/v2.0",
  "iat": 1752562896,
  "nbf": 1752562896,
  "exp": 1752566796,
  "email": "n.orujova@almettrading.com",
  "name": "Narmin Orujova",
  "nonce": "01980ce7-192a-7b78-9f46-2d852fdd77cd",
  "oid": "2c74167f-d69a-43a5-a1e6-910fd8560625",
  "preferred_username": "n.orujova@almettrading.com",
  "rh": "1.ATkA9y4isy0kJEemZZewp2Ty0P9YBCNp7btKhJY4iAZxFvaqARM5AA.",
  "sid": "006c5e49-ee67-0c63-f9d4-23d4f5ffda2a",
  "sub": "i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4",
  "tid": "b3222ef7-242d-4724-a665-97b0a764f2d0",
  "uti": "lhH4h22-8kqRFHO-vA-JAA",
  "ver": "2.0"
}
INFO 2025-07-15 11:06:36,459 auth 27048 32048 Audience from token: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 11:06:36,460 auth 27048 32048 Expected audience: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 11:06:36,461 auth 27048 32048 Microsoft ID (sub): i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4
INFO 2025-07-15 11:06:36,462 auth 27048 32048 Full name from token: Narmin Orujova
INFO 2025-07-15 11:06:36,463 auth 27048 32048 Extracted user info: email=n.orujova@almettrading.com, first_name=Narmin, last_name=Orujova
INFO 2025-07-15 11:06:36,578 auth 27048 32048 Found existing Microsoft user: n.orujova
INFO 2025-07-15 11:06:36,580 auth 27048 32048 === Token validation successful for user: n.orujova ===
INFO 2025-07-15 11:06:36,581 views 27048 32048 Token validated successfully for user: n.orujova
INFO 2025-07-15 11:06:36,598 views 27048 32048 JWT tokens generated for user: n.orujova
INFO 2025-07-15 11:06:36,600 views 27048 32048 Returning successful response for user: n.orujova
INFO 2025-07-15 11:07:57,489 views 27048 25664 Profile image upload request from user: n.orujova
INFO 2025-07-15 11:07:57,492 views 27048 25664 Request data: <QueryDict: {'employee_id': ['33'], 'profile_image': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg (image/jpeg)>]}>
INFO 2025-07-15 11:07:57,493 views 27048 25664 Files: ['profile_image']
INFO 2025-07-15 11:12:27,877 views 20860 8876 Profile image upload request from user: n.orujova
INFO 2025-07-15 11:12:27,879 views 20860 8876 Employee ID: 33
INFO 2025-07-15 11:12:27,880 views 20860 8876 Image file: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg
INFO 2025-07-15 11:12:28,129 views 20860 8876 Employee after save: HLD1
INFO 2025-07-15 11:12:28,130 views 20860 8876 Profile image field: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg
ERROR 2025-07-15 11:12:28,130 views 20860 8876 Profile image upload failed: 'str' object has no attribute 'name'
ERROR 2025-07-15 11:12:28,133 views 20860 8876 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3492, in upload
    logger.info(f"Profile image name: {employee.profile_image.name if employee.profile_image else 'None'}")
                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'name'

INFO 2025-07-15 11:12:59,460 views 20860 15440 User info request for user: n.orujova
INFO 2025-07-15 11:12:59,537 views 20860 15440 [n.orujova] No employee profile found
INFO 2025-07-15 11:12:59,543 views 20860 15440 [n.orujova] User info response prepared successfully
INFO 2025-07-15 11:13:25,903 views 20860 8876 Profile image upload request from user: n.orujova
INFO 2025-07-15 11:13:25,909 views 20860 8876 Employee ID: 33
INFO 2025-07-15 11:13:25,913 views 20860 8876 Image file: org-chart-2025-07-14.png
INFO 2025-07-15 11:13:25,948 views 20860 8876 Employee after save: HLD1
INFO 2025-07-15 11:13:25,954 views 20860 8876 Profile image field: org-chart-2025-07-14.png
ERROR 2025-07-15 11:13:25,966 views 20860 8876 Profile image upload failed: 'str' object has no attribute 'name'
ERROR 2025-07-15 11:13:25,997 views 20860 8876 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3492, in upload
    logger.info(f"Profile image name: {employee.profile_image.name if employee.profile_image else 'None'}")
                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'name'

INFO 2025-07-15 11:15:47,569 views 28204 32208 Profile image upload request from user: n.orujova
INFO 2025-07-15 11:15:47,572 views 28204 32208 Employee ID: 33
INFO 2025-07-15 11:15:47,573 views 28204 32208 Image file: org-chart-2025-07-14.png
INFO 2025-07-15 11:15:47,828 views 28204 32208 Employee after save: HLD1
INFO 2025-07-15 11:15:47,829 views 28204 32208 Profile image field: employee_profiles/2025/07/org-chart-2025-07-14.png
INFO 2025-07-15 11:15:47,829 views 28204 32208 Profile image name: employee_profiles/2025/07/org-chart-2025-07-14.png
INFO 2025-07-15 11:15:47,830 views 28204 32208 Built profile image URL: http://localhost:8000/media/employee_profiles/2025/07/org-chart-2025-07-14.png
INFO 2025-07-15 11:15:47,830 views 28204 32208 Profile image uploaded successfully for employee HLD1
INFO 2025-07-15 11:15:59,768 views 28204 32208 Getting image for employee: HLD1
INFO 2025-07-15 11:15:59,770 views 28204 32208 Profile image field: employee_profiles/2025/07/org-chart-2025-07-14.png
INFO 2025-07-15 11:15:59,771 views 28204 32208 Profile image name: employee_profiles/2025/07/org-chart-2025-07-14.png
INFO 2025-07-15 11:15:59,772 views 28204 32208 Found profile image URL: http://localhost:8000/media/employee_profiles/2025/07/org-chart-2025-07-14.png
INFO 2025-07-15 11:24:53,223 views 33312 27284 Profile image upload request from user: n.orujova
INFO 2025-07-15 11:24:53,228 views 33312 27284 Employee ID: 33
INFO 2025-07-15 11:24:53,229 views 33312 27284 Image file: WhatsApp Image 2025-07-14 at 14.25.14_b87faa34.jpg
INFO 2025-07-15 11:24:53,849 views 33312 27284 Employee after save: HLD1
INFO 2025-07-15 11:24:53,851 views 33312 27284 Profile image field: employee_profiles/2025/07/WhatsApp_Image_2025-07-14_at_14.25.14_b87faa34.jpg
INFO 2025-07-15 11:24:53,852 views 33312 27284 Profile image name: employee_profiles/2025/07/WhatsApp_Image_2025-07-14_at_14.25.14_b87faa34.jpg
INFO 2025-07-15 11:24:53,854 views 33312 27284 Built profile image URL: http://localhost:8000/media/employee_profiles/2025/07/WhatsApp_Image_2025-07-14_at_14.25.14_b87faa34.jpg
INFO 2025-07-15 11:24:53,855 views 33312 27284 Profile image uploaded successfully for employee HLD1
INFO 2025-07-15 11:24:58,845 views 33312 27284 Getting image for employee: HLD1
INFO 2025-07-15 11:24:58,850 views 33312 27284 Profile image field: employee_profiles/2025/07/WhatsApp_Image_2025-07-14_at_14.25.14_b87faa34.jpg
INFO 2025-07-15 11:24:58,855 views 33312 27284 Profile image name: employee_profiles/2025/07/WhatsApp_Image_2025-07-14_at_14.25.14_b87faa34.jpg
INFO 2025-07-15 11:24:58,858 views 33312 27284 Found profile image URL: http://localhost:8000/media/employee_profiles/2025/07/WhatsApp_Image_2025-07-14_at_14.25.14_b87faa34.jpg
INFO 2025-07-15 11:33:54,359 views 19064 5028 User info request for user: n.orujova
INFO 2025-07-15 11:33:54,436 views 19064 5028 [n.orujova] No employee profile found
INFO 2025-07-15 11:33:54,440 views 19064 5028 [n.orujova] User info response prepared successfully
INFO 2025-07-15 11:34:37,855 views 19064 8876 Document upload request from user: n.orujova
ERROR 2025-07-15 11:34:37,858 views 19064 8876 Document upload failed: Unsupported media type "multipart/form-data; boundary=----WebKitFormBoundaryR3MquKuyOlC9pZCE" in request.
INFO 2025-07-15 11:34:53,118 views 19064 8876 Document upload request from user: n.orujova
ERROR 2025-07-15 11:34:53,120 views 19064 8876 Document upload failed: Unsupported media type "multipart/form-data; boundary=----WebKitFormBoundaryCB5MGfIl0KQNMAiC" in request.
INFO 2025-07-15 11:34:55,721 views 19064 8876 Document upload request from user: n.orujova
ERROR 2025-07-15 11:34:55,724 views 19064 8876 Document upload failed: Unsupported media type "multipart/form-data; boundary=----WebKitFormBoundaryB889Powa8J7TivFz" in request.
INFO 2025-07-15 11:38:42,271 views 17896 32880 Document upload request from user: n.orujova
INFO 2025-07-15 11:38:42,280 views 17896 32880 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['contract'], 'document_file': [<InMemoryUploadedFile: ielts.pdf (application/pdf)>]}>
INFO 2025-07-15 11:38:42,281 views 17896 32880 Files: ['document_file']
ERROR 2025-07-15 11:38:42,361 views 17896 32880 Document upload failed: null value in column "created_at" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (04baf024-24ce-4afc-98d2-460b57a7369c, contract, OTHER, 1021395, application/pdf, 2025-07-15 07:38:42.35632+00, 33, 1, null, null, f, null, , null, null, null, null, f, null, null, null, null, null, null, null, null, null, null, null, null, employee_documents/2025/07/ielts.pdf, 0, null, ielts.pdf).

INFO 2025-07-15 11:39:36,619 views 14004 11956 Document upload request from user: n.orujova
ERROR 2025-07-15 11:39:36,622 views 14004 11956 Document upload failed: Unsupported media type "multipart/form-data; boundary=----WebKitFormBoundaryOfMZl6sTAoatss6z" in request.
INFO 2025-07-15 11:48:11,870 views 28740 18248 User info request for user: n.orujova
INFO 2025-07-15 11:48:11,956 views 28740 18248 [n.orujova] No employee profile found
INFO 2025-07-15 11:48:11,961 views 28740 18248 [n.orujova] User info response prepared successfully
INFO 2025-07-15 11:49:13,321 views 28740 18248 User info request for user: n.orujova
INFO 2025-07-15 11:49:13,399 views 28740 18248 [n.orujova] No employee profile found
INFO 2025-07-15 11:49:13,406 views 28740 18248 [n.orujova] User info response prepared successfully
INFO 2025-07-15 11:49:33,811 views 28740 5620 Document upload request from user: n.orujova
INFO 2025-07-15 11:49:33,829 views 28740 5620 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['fff'], 'document_file': [<InMemoryUploadedFile: ielts.pdf (application/pdf)>]}>
INFO 2025-07-15 11:49:33,833 views 28740 5620 Files: ['document_file']
ERROR 2025-07-15 11:49:33,889 views 28740 5620 Document upload failed: null value in column "created_at" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (5af6b603-4e4c-45a3-abfb-4bd285514ffd, fff, OTHER, 1021395, application/pdf, 2025-07-15 07:49:33.88681+00, 33, 1, null, null, f, null, , null, null, null, null, f, null, null, null, null, null, null, null, null, null, null, null, null, employee_documents/2025/07/ielts_wnbuojm.pdf, 0, null, ielts.pdf).

INFO 2025-07-15 11:50:46,191 views 32120 32616 Document upload request from user: n.orujova
INFO 2025-07-15 11:50:46,212 views 32120 32616 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['fff'], 'document_file': [<InMemoryUploadedFile: ielts.pdf (application/pdf)>]}>
INFO 2025-07-15 11:50:46,214 views 32120 32616 Files: ['document_file']
ERROR 2025-07-15 11:50:46,306 views 32120 32616 Document upload failed: null value in column "document_status" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (17ca4b3e-89a4-44aa-b3c9-158421d10487, fff, OTHER, 1021395, application/pdf, 2025-07-15 07:50:46.30337+00, 33, 1, null, null, f, 2025-07-15 07:50:46.303446+00, , null, null, null, null, f, null, null, null, null, null, null, null, null, null, 2025-07-15 07:50:46.303462+00, null, null, employee_documents/2025/07/ielts_cw4x1Pn.pdf, 0, null, ielts.pdf).

INFO 2025-07-15 11:51:31,546 views 24148 33056 User info request for user: n.orujova
INFO 2025-07-15 11:51:31,593 views 24148 33056 [n.orujova] No employee profile found
INFO 2025-07-15 11:51:31,595 views 24148 33056 [n.orujova] User info response prepared successfully
INFO 2025-07-15 11:51:34,057 views 24148 24296 Document upload request from user: n.orujova
INFO 2025-07-15 11:51:34,072 views 24148 24296 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['fff'], 'document_file': [<InMemoryUploadedFile: ielts.pdf (application/pdf)>]}>
INFO 2025-07-15 11:51:34,074 views 24148 24296 Files: ['document_file']
ERROR 2025-07-15 11:51:34,127 views 24148 24296 Document upload failed: null value in column "document_status" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (7176e15c-5521-4b26-a9bd-888e01c5868c, fff, OTHER, 1021395, application/pdf, 2025-07-15 07:51:34.121142+00, 33, 1, null, null, f, 2025-07-15 07:51:34.121282+00, , null, null, null, null, f, null, null, null, null, null, null, null, null, null, 2025-07-15 07:51:34.121298+00, null, null, employee_documents/2025/07/ielts_2bHIGTZ.pdf, 0, null, ielts.pdf).

INFO 2025-07-15 12:00:59,115 views 9888 24584 === Microsoft authentication request received ===
INFO 2025-07-15 12:00:59,117 views 9888 24584 Request method: POST
INFO 2025-07-15 12:00:59,119 views 9888 24584 Request headers: {'Content-Length': '1289', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-CA,en;q=0.9,az-AZ;q=0.8,az;q=0.7,en-GB;q=0.6,en-US;q=0.5'}
INFO 2025-07-15 12:00:59,121 views 9888 24584 Request data keys: ['id_token']
INFO 2025-07-15 12:00:59,122 views 9888 24584 Microsoft authentication attempt - validating token
INFO 2025-07-15 12:00:59,124 views 9888 24584 Token length: 1274
INFO 2025-07-15 12:00:59,126 auth 9888 24584 === Starting Microsoft token validation ===
INFO 2025-07-15 12:00:59,127 auth 9888 24584 Received token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Il9qTn...
INFO 2025-07-15 12:00:59,130 auth 9888 24584 === Token payload ===
INFO 2025-07-15 12:00:59,133 auth 9888 24584 {
  "aud": "230458ff-ed69-4abb-8496-3888067116f6",
  "iss": "https://login.microsoftonline.com/b3222ef7-242d-4724-a665-97b0a764f2d0/v2.0",
  "iat": 1752566159,
  "nbf": 1752566159,
  "exp": 1752570059,
  "email": "n.orujova@almettrading.com",
  "name": "Narmin Orujova",
  "nonce": "01980d19-d953-7596-a817-bc4211420375",
  "oid": "2c74167f-d69a-43a5-a1e6-910fd8560625",
  "preferred_username": "n.orujova@almettrading.com",
  "rh": "1.ATkA9y4isy0kJEemZZewp2Ty0P9YBCNp7btKhJY4iAZxFvaqARM5AA.",
  "sid": "006c5e49-ee67-0c63-f9d4-23d4f5ffda2a",
  "sub": "i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4",
  "tid": "b3222ef7-242d-4724-a665-97b0a764f2d0",
  "uti": "jueBVcYHqEWlW-V_4b2EAA",
  "ver": "2.0"
}
INFO 2025-07-15 12:00:59,135 auth 9888 24584 Audience from token: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 12:00:59,139 auth 9888 24584 Expected audience: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 12:00:59,140 auth 9888 24584 Microsoft ID (sub): i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4
INFO 2025-07-15 12:00:59,142 auth 9888 24584 Full name from token: Narmin Orujova
INFO 2025-07-15 12:00:59,143 auth 9888 24584 Extracted user info: email=n.orujova@almettrading.com, first_name=Narmin, last_name=Orujova
INFO 2025-07-15 12:00:59,255 auth 9888 24584 Found existing Microsoft user: n.orujova
INFO 2025-07-15 12:00:59,258 auth 9888 24584 === Token validation successful for user: n.orujova ===
INFO 2025-07-15 12:00:59,259 views 9888 24584 Token validated successfully for user: n.orujova
INFO 2025-07-15 12:00:59,271 views 9888 24584 JWT tokens generated for user: n.orujova
INFO 2025-07-15 12:00:59,275 views 9888 24584 Returning successful response for user: n.orujova
INFO 2025-07-15 12:03:24,900 views 22548 29192 User info request for user: n.orujova
INFO 2025-07-15 12:03:24,916 views 22548 29192 [n.orujova] No employee profile found
INFO 2025-07-15 12:03:24,922 views 22548 29192 [n.orujova] User info response prepared successfully
INFO 2025-07-15 12:07:22,002 views 33656 28736 User info request for user: n.orujova
INFO 2025-07-15 12:07:22,080 views 33656 28736 [n.orujova] No employee profile found
INFO 2025-07-15 12:07:22,085 views 33656 28736 [n.orujova] User info response prepared successfully
INFO 2025-07-15 14:54:07,800 views 31788 8204 User info request for user: n.orujova
INFO 2025-07-15 14:54:07,880 views 31788 8204 [n.orujova] No employee profile found
INFO 2025-07-15 14:54:07,885 views 31788 8204 [n.orujova] User info response prepared successfully
INFO 2025-07-15 14:58:30,659 views 10004 8900 User info request for user: n.orujova
INFO 2025-07-15 14:58:30,709 views 10004 8900 [n.orujova] No employee profile found
INFO 2025-07-15 14:58:30,711 views 10004 8900 [n.orujova] User info response prepared successfully
INFO 2025-07-15 15:21:24,905 views 18240 30016 User info request for user: n.orujova
INFO 2025-07-15 15:21:24,982 views 18240 30016 [n.orujova] No employee profile found
INFO 2025-07-15 15:21:24,989 views 18240 30016 [n.orujova] User info response prepared successfully
INFO 2025-07-15 15:21:42,480 views 18240 29996 Document upload request from user: n.orujova
ERROR 2025-07-15 15:21:42,484 views 18240 29996 Document upload failed: Unsupported media type "multipart/form-data; boundary=----WebKitFormBoundarysVDAVKbGzhtn4mby" in request.
ERROR 2025-07-15 15:21:42,562 views 18240 29996 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3252, in create
    logger.info(f"Request data: {request.data}")
                                 ^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\request.py", line 221, in data
    self._load_data_and_files()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\request.py", line 284, in _load_data_and_files
    self._data, self._files = self._parse()
                              ~~~~~~~~~~~^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\request.py", line 356, in _parse
    raise exceptions.UnsupportedMediaType(media_type)
rest_framework.exceptions.UnsupportedMediaType: Unsupported media type "multipart/form-data; boundary=----WebKitFormBoundarysVDAVKbGzhtn4mby" in request.

INFO 2025-07-15 15:56:03,632 views 31188 17876 === Microsoft authentication request received ===
INFO 2025-07-15 15:56:03,634 views 31188 17876 Request method: POST
INFO 2025-07-15 15:56:03,635 views 31188 17876 Request headers: {'Content-Length': '1289', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-CA,en;q=0.9,az-AZ;q=0.8,az;q=0.7,en-GB;q=0.6,en-US;q=0.5'}
INFO 2025-07-15 15:56:03,638 views 31188 17876 Request data keys: ['id_token']
INFO 2025-07-15 15:56:03,639 views 31188 17876 Microsoft authentication attempt - validating token
INFO 2025-07-15 15:56:03,640 views 31188 17876 Token length: 1274
INFO 2025-07-15 15:56:03,641 auth 31188 17876 === Starting Microsoft token validation ===
INFO 2025-07-15 15:56:03,643 auth 31188 17876 Received token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Il9qTn...
INFO 2025-07-15 15:56:03,644 auth 31188 17876 === Token payload ===
INFO 2025-07-15 15:56:03,646 auth 31188 17876 {
  "aud": "230458ff-ed69-4abb-8496-3888067116f6",
  "iss": "https://login.microsoftonline.com/b3222ef7-242d-4724-a665-97b0a764f2d0/v2.0",
  "iat": 1752577712,
  "nbf": 1752577712,
  "exp": 1752581612,
  "email": "n.orujova@almettrading.com",
  "name": "Narmin Orujova",
  "nonce": "01980d19-d953-7596-a817-bc4211420375",
  "oid": "2c74167f-d69a-43a5-a1e6-910fd8560625",
  "preferred_username": "n.orujova@almettrading.com",
  "rh": "1.ATkA9y4isy0kJEemZZewp2Ty0P9YBCNp7btKhJY4iAZxFvaqARM5AA.",
  "sid": "006c5e49-ee67-0c63-f9d4-23d4f5ffda2a",
  "sub": "i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4",
  "tid": "b3222ef7-242d-4724-a665-97b0a764f2d0",
  "uti": "hqn91OxwFUuIGJR2DqIBAA",
  "ver": "2.0"
}
INFO 2025-07-15 15:56:03,648 auth 31188 17876 Audience from token: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 15:56:03,649 auth 31188 17876 Expected audience: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 15:56:03,650 auth 31188 17876 Microsoft ID (sub): i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4
INFO 2025-07-15 15:56:03,650 auth 31188 17876 Full name from token: Narmin Orujova
INFO 2025-07-15 15:56:03,651 auth 31188 17876 Extracted user info: email=n.orujova@almettrading.com, first_name=Narmin, last_name=Orujova
INFO 2025-07-15 15:56:03,752 auth 31188 17876 Found existing Microsoft user: n.orujova
INFO 2025-07-15 15:56:03,753 auth 31188 17876 === Token validation successful for user: n.orujova ===
INFO 2025-07-15 15:56:03,754 views 31188 17876 Token validated successfully for user: n.orujova
INFO 2025-07-15 15:56:03,756 views 31188 17876 JWT tokens generated for user: n.orujova
INFO 2025-07-15 15:56:03,756 views 31188 17876 Returning successful response for user: n.orujova
INFO 2025-07-15 15:56:19,418 views 31188 18020 Document upload request from user: n.orujova
INFO 2025-07-15 15:56:19,422 views 31188 18020 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['rfvf'], 'document_file': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.28.36_f272c8ca.jpg (image/jpeg)>]}>
INFO 2025-07-15 15:56:19,423 views 31188 18020 Files: ['document_file']
INFO 2025-07-15 15:56:19,423 views 31188 18020 Content type: multipart/form-data; boundary=----WebKitFormBoundary0KzcDKMGPJW3BDxC
ERROR 2025-07-15 15:56:19,456 views 31188 18020 Document upload failed: null value in column "is_required" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (c56ef4d3-8899-4659-9c2b-98b9fdbd94c4, rfvf, OTHER, 164410, image/jpeg, 2025-07-15 11:56:19.45408+00, 33, 1, null, null, f, 2025-07-15 11:56:19.454298+00, , null, ACTIVE, null, null, f, null, null, null, null, null, null, null, null, null, 2025-07-15 11:56:19.454325+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14.28.36..., 0, null, WhatsApp Image 2025-07-14 at 14.28.36_f272c8ca.jpg).

ERROR 2025-07-15 15:56:19,939 views 31188 18020 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "is_required" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (c56ef4d3-8899-4659-9c2b-98b9fdbd94c4, rfvf, OTHER, 164410, image/jpeg, 2025-07-15 11:56:19.45408+00, 33, 1, null, null, f, 2025-07-15 11:56:19.454298+00, , null, ACTIVE, null, null, f, null, null, null, null, null, null, null, null, null, 2025-07-15 11:56:19.454325+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14.28.36..., 0, null, WhatsApp Image 2025-07-14 at 14.28.36_f272c8ca.jpg).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3328, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 274, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1015, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "is_required" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (c56ef4d3-8899-4659-9c2b-98b9fdbd94c4, rfvf, OTHER, 164410, image/jpeg, 2025-07-15 11:56:19.45408+00, 33, 1, null, null, f, 2025-07-15 11:56:19.454298+00, , null, ACTIVE, null, null, f, null, null, null, null, null, null, null, null, null, 2025-07-15 11:56:19.454325+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14.28.36..., 0, null, WhatsApp Image 2025-07-14 at 14.28.36_f272c8ca.jpg).


INFO 2025-07-15 15:59:37,818 views 17156 23512 User info request for user: n.orujova
INFO 2025-07-15 15:59:37,883 views 17156 23512 [n.orujova] No employee profile found
INFO 2025-07-15 15:59:37,888 views 17156 23512 [n.orujova] User info response prepared successfully
INFO 2025-07-15 15:59:42,386 views 17156 18988 Document upload request from user: n.orujova
INFO 2025-07-15 15:59:42,391 views 17156 18988 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['rfvf'], 'document_file': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.28.36_f272c8ca.jpg (image/jpeg)>]}>
INFO 2025-07-15 15:59:42,392 views 17156 18988 Files: ['document_file']
INFO 2025-07-15 15:59:42,394 views 17156 18988 Content type: multipart/form-data; boundary=----WebKitFormBoundaryzT66JMa1JjwFGVty
ERROR 2025-07-15 15:59:42,448 views 17156 18988 Document upload failed: null value in column "notify_before_expiry_days" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (3a148a0a-9bd2-46e1-94d5-d3d5b90e244b, rfvf, OTHER, 164410, image/jpeg, 2025-07-15 11:59:42.44453+00, 33, 1, null, null, f, 2025-07-15 11:59:42.444649+00, , null, ACTIVE, null, null, f, f, null, null, null, null, null, null, null, null, 2025-07-15 11:59:42.444783+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14_ZGXQX..., 0, null, WhatsApp Image 2025-07-14 at 14.28.36_f272c8ca.jpg).

ERROR 2025-07-15 15:59:42,486 views 17156 18988 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "notify_before_expiry_days" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (3a148a0a-9bd2-46e1-94d5-d3d5b90e244b, rfvf, OTHER, 164410, image/jpeg, 2025-07-15 11:59:42.44453+00, 33, 1, null, null, f, 2025-07-15 11:59:42.444649+00, , null, ACTIVE, null, null, f, f, null, null, null, null, null, null, null, null, 2025-07-15 11:59:42.444783+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14_ZGXQX..., 0, null, WhatsApp Image 2025-07-14 at 14.28.36_f272c8ca.jpg).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3328, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 310, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1019, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "notify_before_expiry_days" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (3a148a0a-9bd2-46e1-94d5-d3d5b90e244b, rfvf, OTHER, 164410, image/jpeg, 2025-07-15 11:59:42.44453+00, 33, 1, null, null, f, 2025-07-15 11:59:42.444649+00, , null, ACTIVE, null, null, f, f, null, null, null, null, null, null, null, null, 2025-07-15 11:59:42.444783+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14_ZGXQX..., 0, null, WhatsApp Image 2025-07-14 at 14.28.36_f272c8ca.jpg).


INFO 2025-07-15 16:02:27,800 views 17156 33344 === Microsoft authentication request received ===
INFO 2025-07-15 16:02:27,802 views 17156 33344 Request method: POST
INFO 2025-07-15 16:02:27,803 views 17156 33344 Request headers: {'Content-Length': '1289', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-CA,en;q=0.9,az-AZ;q=0.8,az;q=0.7,en-GB;q=0.6,en-US;q=0.5'}
INFO 2025-07-15 16:02:27,805 views 17156 33344 Request data keys: ['id_token']
INFO 2025-07-15 16:02:27,805 views 17156 33344 Microsoft authentication attempt - validating token
INFO 2025-07-15 16:02:27,809 views 17156 33344 Token length: 1274
INFO 2025-07-15 16:02:27,815 auth 17156 33344 === Starting Microsoft token validation ===
INFO 2025-07-15 16:02:27,823 auth 17156 33344 Received token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Il9qTn...
INFO 2025-07-15 16:02:27,830 auth 17156 33344 === Token payload ===
INFO 2025-07-15 16:02:27,834 auth 17156 33344 {
  "aud": "230458ff-ed69-4abb-8496-3888067116f6",
  "iss": "https://login.microsoftonline.com/b3222ef7-242d-4724-a665-97b0a764f2d0/v2.0",
  "iat": 1752577712,
  "nbf": 1752577712,
  "exp": 1752581612,
  "email": "n.orujova@almettrading.com",
  "name": "Narmin Orujova",
  "nonce": "01980d19-d953-7596-a817-bc4211420375",
  "oid": "2c74167f-d69a-43a5-a1e6-910fd8560625",
  "preferred_username": "n.orujova@almettrading.com",
  "rh": "1.ATkA9y4isy0kJEemZZewp2Ty0P9YBCNp7btKhJY4iAZxFvaqARM5AA.",
  "sid": "006c5e49-ee67-0c63-f9d4-23d4f5ffda2a",
  "sub": "i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4",
  "tid": "b3222ef7-242d-4724-a665-97b0a764f2d0",
  "uti": "hqn91OxwFUuIGJR2DqIBAA",
  "ver": "2.0"
}
INFO 2025-07-15 16:02:27,838 auth 17156 33344 Audience from token: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 16:02:27,841 auth 17156 33344 Expected audience: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 16:02:27,844 auth 17156 33344 Microsoft ID (sub): i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4
INFO 2025-07-15 16:02:27,849 auth 17156 33344 Full name from token: Narmin Orujova
INFO 2025-07-15 16:02:27,852 auth 17156 33344 Extracted user info: email=n.orujova@almettrading.com, first_name=Narmin, last_name=Orujova
INFO 2025-07-15 16:02:27,951 auth 17156 33344 Found existing Microsoft user: n.orujova
INFO 2025-07-15 16:02:27,953 auth 17156 33344 === Token validation successful for user: n.orujova ===
INFO 2025-07-15 16:02:27,954 views 17156 33344 Token validated successfully for user: n.orujova
INFO 2025-07-15 16:02:27,956 views 17156 33344 JWT tokens generated for user: n.orujova
INFO 2025-07-15 16:02:27,957 views 17156 33344 Returning successful response for user: n.orujova
INFO 2025-07-15 16:02:58,815 views 17156 24364 Document upload request from user: n.orujova
INFO 2025-07-15 16:02:58,820 views 17156 24364 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhh'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg (image/jpeg)>]}>
INFO 2025-07-15 16:02:58,822 views 17156 24364 Files: ['document_file']
INFO 2025-07-15 16:02:58,824 views 17156 24364 Content type: multipart/form-data; boundary=----WebKitFormBoundaryFZL9fnhP07ABMja9
ERROR 2025-07-15 16:02:58,871 views 17156 24364 Document upload failed: null value in column "notify_before_expiry_days" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (298815e4-0206-4206-a678-591b084e6ac9, hhh, OTHER, 150866, image/jpeg, 2025-07-15 12:02:58.869262+00, 33, 1, null, null, f, 2025-07-15 12:02:58.869326+00, , null, ACTIVE, null, null, f, f, null, null, null, null, null, null, null, null, 2025-07-15 12:02:58.86934+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14.29.47..., 0, null, WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg).

ERROR 2025-07-15 16:02:58,885 views 17156 24364 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "notify_before_expiry_days" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (298815e4-0206-4206-a678-591b084e6ac9, hhh, OTHER, 150866, image/jpeg, 2025-07-15 12:02:58.869262+00, 33, 1, null, null, f, 2025-07-15 12:02:58.869326+00, , null, ACTIVE, null, null, f, f, null, null, null, null, null, null, null, null, 2025-07-15 12:02:58.86934+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14.29.47..., 0, null, WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3328, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 310, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1019, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "notify_before_expiry_days" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (298815e4-0206-4206-a678-591b084e6ac9, hhh, OTHER, 150866, image/jpeg, 2025-07-15 12:02:58.869262+00, 33, 1, null, null, f, 2025-07-15 12:02:58.869326+00, , null, ACTIVE, null, null, f, f, null, null, null, null, null, null, null, null, 2025-07-15 12:02:58.86934+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14.29.47..., 0, null, WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg).


INFO 2025-07-15 16:07:07,085 views 32704 12852 Document upload request from user: n.orujova
INFO 2025-07-15 16:07:07,090 views 32704 12852 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhh'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg (image/jpeg)>]}>
INFO 2025-07-15 16:07:07,092 views 32704 12852 Files: ['document_file']
INFO 2025-07-15 16:07:07,093 views 32704 12852 Content type: multipart/form-data; boundary=----WebKitFormBoundaryQ6Dc9Gtzm3m5nyd9
ERROR 2025-07-15 16:07:07,132 views 32704 12852 Document upload failed: EmployeeDocument() got unexpected keyword arguments: 'is_required', 'document_status'
ERROR 2025-07-15 16:07:07,300 views 32704 12852 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3328, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 310, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 661, in create
    obj = self.model(**kwargs)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 569, in __init__
    raise TypeError(
    ...<2 lines>...
    )
TypeError: EmployeeDocument() got unexpected keyword arguments: 'is_required', 'document_status'

INFO 2025-07-15 16:10:36,462 views 33232 15400 Document upload request from user: n.orujova
INFO 2025-07-15 16:10:36,469 views 33232 15400 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhh'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg (image/jpeg)>]}>
INFO 2025-07-15 16:10:36,473 views 33232 15400 Files: ['document_file']
INFO 2025-07-15 16:10:36,475 views 33232 15400 Content type: multipart/form-data; boundary=----WebKitFormBoundaryNcdOvx4BJPM4CS42
ERROR 2025-07-15 16:10:36,528 views 33232 15400 Document upload failed: null value in column "version" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (3a9cebcc-46d4-4c61-a0cd-62afc3e369c1, hhh, OTHER, 150866, image/jpeg, 2025-07-15 12:10:36.524982+00, 33, 1, null, null, f, 2025-07-15 12:10:36.525065+00, , null, ACTIVE, null, null, f, f, null, null, null, 30, null, null, null, null, 2025-07-15 12:10:36.525082+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14_mSIaA..., 0, null, WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg).

ERROR 2025-07-15 16:10:36,626 views 33232 15400 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.NotNullViolation: null value in column "version" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (3a9cebcc-46d4-4c61-a0cd-62afc3e369c1, hhh, OTHER, 150866, image/jpeg, 2025-07-15 12:10:36.524982+00, 33, 1, null, null, f, 2025-07-15 12:10:36.525065+00, , null, ACTIVE, null, null, f, f, null, null, null, 30, null, null, null, null, 2025-07-15 12:10:36.525082+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14_mSIaA..., 0, null, WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg).


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3328, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 310, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1024, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: null value in column "version" of relation "api_employeedocument" violates not-null constraint
DETAIL:  Failing row contains (3a9cebcc-46d4-4c61-a0cd-62afc3e369c1, hhh, OTHER, 150866, image/jpeg, 2025-07-15 12:10:36.524982+00, 33, 1, null, null, f, 2025-07-15 12:10:36.525065+00, , null, ACTIVE, null, null, f, f, null, null, null, 30, null, null, null, null, 2025-07-15 12:10:36.525082+00, null, null, employee_documents/2025/07/WhatsApp_Image_2025-07-14_at_14_mSIaA..., 0, null, WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg).


INFO 2025-07-15 16:15:40,379 views 2024 25168 Document upload request from user: n.orujova
INFO 2025-07-15 16:15:40,392 views 2024 25168 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhh'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg (image/jpeg)>]}>
INFO 2025-07-15 16:15:40,403 views 2024 25168 Files: ['document_file']
INFO 2025-07-15 16:15:40,405 views 2024 25168 Content type: multipart/form-data; boundary=----WebKitFormBoundaryYnGH8cItFnqn5CJe
ERROR 2025-07-15 16:15:40,453 views 2024 25168 Document upload failed: column "replaced_by_id" of relation "api_employeedocument" does not exist
LINE 1: ...loaded_by_id", "download_count", "last_accessed", "replaced_...
                                                             ^

ERROR 2025-07-15 16:15:40,482 views 2024 25168 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column "replaced_by_id" of relation "api_employeedocument" does not exist
LINE 1: ...loaded_by_id", "download_count", "last_accessed", "replaced_...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3328, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 355, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1059, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: column "replaced_by_id" of relation "api_employeedocument" does not exist
LINE 1: ...loaded_by_id", "download_count", "last_accessed", "replaced_...
                                                             ^


INFO 2025-07-15 16:20:27,975 views 16092 29896 Document upload request from user: n.orujova
INFO 2025-07-15 16:20:27,978 views 16092 29896 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhh'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg (image/jpeg)>]}>
INFO 2025-07-15 16:20:27,979 views 16092 29896 Files: ['document_file']
ERROR 2025-07-15 16:20:28,010 views 16092 29896 Document upload failed: column "replaced_by_id" of relation "api_employeedocument" does not exist
LINE 1: ...loaded_by_id", "download_count", "last_accessed", "replaced_...
                                                             ^

ERROR 2025-07-15 16:20:28,336 views 16092 29896 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column "replaced_by_id" of relation "api_employeedocument" does not exist
LINE 1: ...loaded_by_id", "download_count", "last_accessed", "replaced_...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 358, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1059, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: column "replaced_by_id" of relation "api_employeedocument" does not exist
LINE 1: ...loaded_by_id", "download_count", "last_accessed", "replaced_...
                                                             ^


INFO 2025-07-15 16:21:07,468 views 16092 29896 Document upload request from user: n.orujova
INFO 2025-07-15 16:21:07,471 views 16092 29896 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhh'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg (image/jpeg)>]}>
INFO 2025-07-15 16:21:07,472 views 16092 29896 Files: ['document_file']
ERROR 2025-07-15 16:21:07,485 views 16092 29896 Document upload failed: column "replaced_by_id" of relation "api_employeedocument" does not exist
LINE 1: ...loaded_by_id", "download_count", "last_accessed", "replaced_...
                                                             ^

ERROR 2025-07-15 16:21:07,492 views 16092 29896 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column "replaced_by_id" of relation "api_employeedocument" does not exist
LINE 1: ...loaded_by_id", "download_count", "last_accessed", "replaced_...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 358, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1059, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: column "replaced_by_id" of relation "api_employeedocument" does not exist
LINE 1: ...loaded_by_id", "download_count", "last_accessed", "replaced_...
                                                             ^


INFO 2025-07-15 16:31:05,111 views 16092 30584 Document upload request from user: n.orujova
INFO 2025-07-15 16:31:05,113 views 16092 30584 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhh'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: WhatsApp Image 2025-07-14 at 14.29.47_71f01fd1.jpg (image/jpeg)>]}>
INFO 2025-07-15 16:31:05,114 views 16092 30584 Files: ['document_file']
INFO 2025-07-15 16:35:09,763 views 16092 26004 Document upload request from user: n.orujova
INFO 2025-07-15 16:35:09,770 views 16092 26004 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhh'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: employee_bulk_template_2025-07-14.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 16:35:09,771 views 16092 26004 Files: ['document_file']
ERROR 2025-07-15 16:35:09,826 views 16092 26004 Document upload failed: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.

ERROR 2025-07-15 16:35:09,840 views 16092 26004 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 358, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1059, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


INFO 2025-07-15 16:36:06,221 views 16092 26004 Document upload request from user: n.orujova
INFO 2025-07-15 16:36:06,224 views 16092 26004 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhhefef'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: employee_bulk_template_2025-07-14.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 16:36:06,226 views 16092 26004 Files: ['document_file']
ERROR 2025-07-15 16:36:06,248 views 16092 26004 Document upload failed: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.

ERROR 2025-07-15 16:36:06,259 views 16092 26004 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 358, in create
    return EmployeeDocument.objects.create(**validated_data)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1059, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


INFO 2025-07-15 16:41:56,541 views 13592 33180 Document upload request from user: n.orujova
INFO 2025-07-15 16:41:56,542 views 13592 33180 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhhefef'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: employee_bulk_template_2025-07-14.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 16:41:56,543 views 13592 33180 Files: ['document_file']
ERROR 2025-07-15 16:41:56,567 views 13592 33180 Document upload failed: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.

ERROR 2025-07-15 16:41:56,674 views 13592 33180 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 377, in create
    document = EmployeeDocument.objects.create(**validated_data)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


INFO 2025-07-15 16:42:43,018 views 28596 31912 Document upload request from user: n.orujova
INFO 2025-07-15 16:42:43,019 views 28596 31912 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhhefef'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: employee_bulk_template_2025-07-14.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 16:42:43,020 views 28596 31912 Files: ['document_file']
ERROR 2025-07-15 16:42:43,050 views 28596 31912 Document upload failed: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.

ERROR 2025-07-15 16:42:43,064 views 28596 31912 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 377, in create
    document = EmployeeDocument.objects.create(**validated_data)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1072, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


INFO 2025-07-15 16:43:00,394 views 28596 31912 Document upload request from user: n.orujova
INFO 2025-07-15 16:43:00,401 views 28596 31912 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhhefef'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: employee_bulk_template_2025-07-14.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 16:43:00,401 views 28596 31912 Files: ['document_file']
ERROR 2025-07-15 16:43:00,410 views 28596 31912 Document upload failed: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.

ERROR 2025-07-15 16:43:00,415 views 28596 31912 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 377, in create
    document = EmployeeDocument.objects.create(**validated_data)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1072, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


INFO 2025-07-15 16:43:01,847 views 28596 31912 Document upload request from user: n.orujova
INFO 2025-07-15 16:43:01,848 views 28596 31912 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['hhhefef'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: employee_bulk_template_2025-07-14.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 16:43:01,849 views 28596 31912 Files: ['document_file']
ERROR 2025-07-15 16:43:01,859 views 28596 31912 Document upload failed: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.

ERROR 2025-07-15 16:43:01,865 views 28596 31912 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 377, in create
    document = EmployeeDocument.objects.create(**validated_data)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1072, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


INFO 2025-07-15 16:43:25,229 views 28596 5476 User info request for user: n.orujova
INFO 2025-07-15 16:43:25,270 views 28596 5476 [n.orujova] No employee profile found
INFO 2025-07-15 16:43:25,272 views 28596 5476 [n.orujova] User info response prepared successfully
INFO 2025-07-15 16:43:58,690 views 28596 31912 Document upload request from user: n.orujova
INFO 2025-07-15 16:43:58,691 views 28596 31912 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['ee'], 'is_required': ['false'], 'document_file': [<InMemoryUploadedFile: Competency Matrix for Narmin.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 16:43:58,692 views 28596 31912 Files: ['document_file']
ERROR 2025-07-15 16:43:58,711 views 28596 31912 Document upload failed: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.

ERROR 2025-07-15 16:43:58,715 views 28596 31912 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 377, in create
    document = EmployeeDocument.objects.create(**validated_data)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1072, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


INFO 2025-07-15 16:44:49,205 views 28596 31912 Document upload request from user: n.orujova
INFO 2025-07-15 16:44:49,208 views 28596 31912 Request data: <QueryDict: {'employee_id': ['33'], 'name': ['ee'], 'is_required': ['false'], 'replace_existing': ['true'], 'document_file': [<InMemoryUploadedFile: Competency Matrix for Narmin.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 16:44:49,211 views 28596 31912 Files: ['document_file']
ERROR 2025-07-15 16:44:49,225 views 28596 31912 Document upload failed: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.

ERROR 2025-07-15 16:44:49,232 views 28596 31912 Traceback: Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\views.py", line 3341, in create
    document = serializer.save()
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\rest_framework\serializers.py", line 210, in save
    self.instance = self.create(validated_data)
                    ~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\serializers.py", line 377, in create
    document = EmployeeDocument.objects.create(**validated_data)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 663, in create
    obj.save(force_insert=True, using=self.db)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\almet_hris_backend\api\models.py", line 1072, in save
    super().save(*args, **kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 902, in save
    self.save_base(
    ~~~~~~~~~~~~~~^
        using=using,
        ^^^^^^^^^^^^
    ...<2 lines>...
        update_fields=update_fields,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1008, in save_base
    updated = self._save_table(
        raw,
    ...<4 lines>...
        update_fields,
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1169, in _save_table
    results = self._do_insert(
        cls._base_manager, using, fields, returning_fields, raw
    )
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\base.py", line 1210, in _do_insert
    return manager._insert(
           ~~~~~~~~~~~~~~~^
        [self],
        ^^^^^^^
    ...<3 lines>...
        raw=raw,
        ^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\query.py", line 1864, in _insert
    return query.get_compiler(using=using).execute_sql(returning_fields)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\models\sql\compiler.py", line 1882, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\NarminOrujova\OneDrive - Almet Holding CJSC\Desktop\backend\venv\Lib\site-packages\django\db\backends\utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.IntegrityError: duplicate key value violates unique constraint "api_employeedocument_employee_id_document_typ_04a0b67a_uniq"
DETAIL:  Key (employee_id, document_type, version, is_deleted)=(33, OTHER, 1, f) already exists.


INFO 2025-07-15 16:44:56,230 views 28596 31912 Document upload request from user: n.orujova
INFO 2025-07-15 16:44:56,234 views 28596 31912 Request data: <QueryDict: {'employee_id': ['36'], 'name': ['ee'], 'is_required': ['false'], 'replace_existing': ['true'], 'document_file': [<InMemoryUploadedFile: Competency Matrix for Narmin.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 16:44:56,235 views 28596 31912 Files: ['document_file']
INFO 2025-07-15 17:01:43,495 views 31680 16536 Document upload request from user: n.orujova
INFO 2025-07-15 17:01:43,497 views 31680 16536 Request data: <QueryDict: {'employee_id': ['39'], 'name': ['ee'], 'is_required': ['false'], 'replace_existing': ['true'], 'document_file': [<InMemoryUploadedFile: Competency Matrix for Narmin.xlsx (application/vnd.openxmlformats-officedocument.spreadsheetml.sheet)>]}>
INFO 2025-07-15 17:01:43,498 views 31680 16536 Files: ['document_file']
ERROR 2025-07-15 17:02:18,646 views 31680 13600 Get version history failed: 
INFO 2025-07-15 17:26:18,330 views 28504 18236 === Microsoft authentication request received ===
INFO 2025-07-15 17:26:18,331 views 28504 18236 Request method: POST
INFO 2025-07-15 17:26:18,332 views 28504 18236 Request headers: {'Content-Length': '1289', 'Content-Type': 'application/json', 'Host': 'localhost:8000', 'Connection': 'keep-alive', 'Sec-Ch-Ua-Platform': '"Windows"', 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'Accept': 'application/json, text/plain, */*', 'Sec-Ch-Ua': '"Not)A;Brand";v="8", "Chromium";v="138", "Google Chrome";v="138"', 'Sec-Ch-Ua-Mobile': '?0', 'Origin': 'http://localhost:3000', 'Sec-Fetch-Site': 'same-site', 'Sec-Fetch-Mode': 'cors', 'Sec-Fetch-Dest': 'empty', 'Referer': 'http://localhost:3000/', 'Accept-Encoding': 'gzip, deflate, br, zstd', 'Accept-Language': 'en-CA,en;q=0.9,az-AZ;q=0.8,az;q=0.7,en-GB;q=0.6,en-US;q=0.5'}
INFO 2025-07-15 17:26:18,333 views 28504 18236 Request data keys: ['id_token']
INFO 2025-07-15 17:26:18,334 views 28504 18236 Microsoft authentication attempt - validating token
INFO 2025-07-15 17:26:18,335 views 28504 18236 Token length: 1274
INFO 2025-07-15 17:26:18,336 auth 28504 18236 === Starting Microsoft token validation ===
INFO 2025-07-15 17:26:18,336 auth 28504 18236 Received token: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6Il9qTn...
INFO 2025-07-15 17:26:18,337 auth 28504 18236 === Token payload ===
INFO 2025-07-15 17:26:18,338 auth 28504 18236 {
  "aud": "230458ff-ed69-4abb-8496-3888067116f6",
  "iss": "https://login.microsoftonline.com/b3222ef7-242d-4724-a665-97b0a764f2d0/v2.0",
  "iat": 1752584007,
  "nbf": 1752584007,
  "exp": 1752587907,
  "email": "n.orujova@almettrading.com",
  "name": "Narmin Orujova",
  "nonce": "01980d19-d953-7596-a817-bc4211420375",
  "oid": "2c74167f-d69a-43a5-a1e6-910fd8560625",
  "preferred_username": "n.orujova@almettrading.com",
  "rh": "1.ATkA9y4isy0kJEemZZewp2Ty0P9YBCNp7btKhJY4iAZxFvaqARM5AA.",
  "sid": "006c5e49-ee67-0c63-f9d4-23d4f5ffda2a",
  "sub": "i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4",
  "tid": "b3222ef7-242d-4724-a665-97b0a764f2d0",
  "uti": "DQuNSzg2JkSv56XNKBGQAA",
  "ver": "2.0"
}
INFO 2025-07-15 17:26:18,339 auth 28504 18236 Audience from token: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 17:26:18,340 auth 28504 18236 Expected audience: 230458ff-ed69-4abb-8496-3888067116f6
INFO 2025-07-15 17:26:18,341 auth 28504 18236 Microsoft ID (sub): i7rUkArSkR21ADRGNhKBNmJkwt25_DaBfDeIyBhUpf4
INFO 2025-07-15 17:26:18,342 auth 28504 18236 Full name from token: Narmin Orujova
INFO 2025-07-15 17:26:18,342 auth 28504 18236 Extracted user info: email=n.orujova@almettrading.com, first_name=Narmin, last_name=Orujova
INFO 2025-07-15 17:26:18,407 auth 28504 18236 Found existing Microsoft user: n.orujova
INFO 2025-07-15 17:26:18,408 auth 28504 18236 === Token validation successful for user: n.orujova ===
INFO 2025-07-15 17:26:18,409 views 28504 18236 Token validated successfully for user: n.orujova
INFO 2025-07-15 17:26:18,410 views 28504 18236 JWT tokens generated for user: n.orujova
INFO 2025-07-15 17:26:18,410 views 28504 18236 Returning successful response for user: n.orujova
INFO 2025-07-15 17:29:49,363 views 28504 16348 Template download request from user: n.orujova
INFO 2025-07-15 17:29:49,615 views 28504 16348 Template generated successfully
